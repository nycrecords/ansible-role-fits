language: python
python:
- 3.7
env:
  global:
  - MOLECULE_DEBUG: 'true'
  - ROLE_NAME: fits
  - EC2_REGION: us-east-1
  - secure: Aes6M579p4NGANhqTBBbKsnHaTZrKbK6xkW7dN/dBj/+oh8J54gIzXWKhKzPY7MKxTZlc8KNq3KTXzTmw/FtZ+NCes520uLLJV29VOPEx9rNpggORuoRpWJp5G3lLKf+Wm1KpnQTVcOCKWJGmreR2QDBMrhOdJ0Upg9LNzIQuDEOxti5tZ8Frh8TbroZlaN3D659xSm80OyXU7mGEzdpgWSq7rkhGfYdUIUiRavHVxskHo9FQryNcAxUqntIgKm36scwwIdoz/l+9I6dWPjiv4cApYBQs04haMb2zaaxQQ9zaHy4Fi7XEQYv+lXN+KiBuygRyAHhZiaqhCcPcN0UgpzvdzA5z0lio+G+6GxwHxNoNIvc5041s6gbYEO4Bp4t1BwR6I2ylsjuV9pf10u/NONI0G8y7m1hsRdAmZ3gDUS6/fQM+V1F4IxJe00jDRAXclFpBhZVOjKsXvP1ucbkQ9GbOxhr5QMcC6CbK9YH25V6uL2Zr38FJ/KjKj+AXxvUQx1rUZBj31jVWkpEyjI1rQiD21NBVgmATF9/QS5kwijLmRqZ5HT0L4e4ePjqFG+0eD2hrPtCIifMegWITUbYE6Djdi3fZnsEGtC06UYOmRBYG9uU+CvMfM4OrMBXBJeHSOvs01quxMtSyLmZ1ev7tW5Vwa/unDa8l2VoWhSW2g0=
  - secure: VfZa8iE54+ZtnHBTN9LU0NVbNghGeqx+7Ew9+478wWKxIYBtc6Giqm1WlT6krp97WtBDPXLxmY9kreZ0anvgWOeMoehAMTRCWHskweSrt8ITWGgTFn9fsi5fJWzQrfWCny6f2Ce757klu+QBdgjoTmivYoBZrYZclW1rk0zYSQhu7uNJgeHqZtvgpv+ImBiI4zNZeVq28d8j6x5G8rzKGOo4JQRCZdp49GTVXo6XkJE7KcoIs+nEgpAJntVVwTVPRmTgCGBvDf4Z/1DqVYBa0cJu+CMZ8Dh+9E2gN6GYYZjpDCUsuCStgi5IYOSQtn2JSoHh/oVY/59vKidBmEqw5HVX5yvMmmL2l78Wbx4BMytsEo2UJyn+nzka8lXFmj6EcIAQ8x/4hONItjQImuZuce53UkQ58VqCy3WZ9Og/g56tZfjfmN3C6UEkZp7PjxX1s+bHdMEqtSGikk23AOH87DHrnB/WFQE+ih1+Qb3b2TPVP9n9lp1qhFhuPQwlDPc5hdyyYc1rGpYfq8zdLPzCN4NCDCN50OhrvUpHDyMduYUWw2kduw3uu6HZr92ed/zGJtb4i4EqP1bW/5yNISxzi/ggllOpfxqay2TNZV5EJqCPRrejud3srVoeHUNTeEPqj7SV+fwQYkNJQaS5wBMVZP/cnCzg8+H//f2W36F3P88=
install:
- pip install pipenv
- pipenv install
- aws configure set aws_access_key_id $AWS_ACCESS_KEY
- aws configure set aws_secret_access_key $AWS_SECRET_KEY
- aws configure set default.region $EC2_REGION
- aws configure list
script:
- molecule create --scenario-name aws
- molecule converge --scenario-name aws
- molecule verify --scenario-name aws
- molecule destroy --scenario-name aws
notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
